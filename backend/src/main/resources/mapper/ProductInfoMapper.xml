<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dingtalk.mapper.productInfoMapper">

    <resultMap id="productInfoMap" type="ProductInfo">
        <id column="product_id" property="productId" />
        <result column="category_id" property="categoryId" />
        <result column="product_code" property="productCode" />
        <result column="product_name" property="productName" />
        <result column="model_number" property="modelNumber" />
        <result column="voltage" property="voltage" />
        <result column="power_kw" property="powerKw" />
        <result column="production" property="production" />
        <result column="other_parameters" property="otherParameters" />
        <result column="dimensions_mm" property="dimensionsMm" />
        <result column="weight_kg" property="weightKg" />
        <result column="packaging_size_mm" property="packagingSizeMm" />
        <result column="total_weight_kg" property="totalWeightKg" />
        <result column="dealer_price" property="dealerPrice" />
        <result column="distribution_price" property="distributionPrice" />
        <result column="factory_price" property="factoryPrice" />
        <result column="update_time" property="updateTime" />
        <result column="notes" property="notes" />
        <result column="main_image" property="mainImage" />
        <result column="files" property="files" />
        <!-- Add the rest of the mappings corresponding to the ProductInfo class properties -->
    </resultMap>

    <!-- Assumes a type alias 'ProductInfoQueryDTO' is defined for the query DTO class -->
    <!-- This select statement skips pagination -->
    <select id="selectProductInfoByPage" resultMap="productInfoMap" parameterType="com.dingtalk.model.dto.ProductInfoQueryDTO">
        SELECT product_id,category_id,product_code,product_name,model_number,voltage,power_kw,production,other_parameters,dimensions_mm,weight_kg,packaging_size_mm,
               total_weight_kg,dealer_price,distribution_price,factory_price,distribution_price,factory_price,update_time,notes,main_image,files FROM product_info
        <where>
            <if test="productCode != null">
                AND product_code = #{productCode}
            </if>
            <if test="productName != null">
                AND product_name = #{productName}
            </if>
        </where>
    </select>

    <select id="selectById" resultMap="productInfoMap">
        SELECT * FROM product_info WHERE product_id = #{id}
    </select>

    <insert id="insertProductInfo">
        INSERT INTO product_info (category_id, product_code, product_name)
        VALUES (#{categoryId}, #{productCode}, #{productName})
        <!-- Include all the other ProductInfo fields -->
    </insert>

    <update id="updateProductInfo">
        UPDATE product_info SET
        category_id = #{categoryId},
        product_code = #{productCode},
        product_name = #{productName}
        <!-- Include setters for all other ProductInfo fields that could be updated -->
        WHERE product_id = #{productId}
    </update>

    <delete id="deleteById">
        DELETE FROM product_info WHERE product_id = #{id}
    </delete>

</mapper>
